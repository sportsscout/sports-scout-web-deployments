(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2501],{79685:function(e,t,l){Promise.resolve().then(l.bind(l,20174))},20174:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return h}});var n=l(57437),s=l(46853),i=l(20773),a=l(53165),o=l(45346),c=l(49864),u=l(40468),r=l(16463),d=l(2265);function h(){let e=(0,d.useMemo)(()=>new c.Z,[]),t=(0,d.useMemo)(()=>e.getAtletaService(),[]),l=(0,d.useMemo)(()=>e.getClubFollowAthleteService(),[]),[h,g]=(0,d.useState)(!1),[b,m]=(0,d.useState)(null),[f,S]=(0,d.useState)(null),[v,O]=(0,d.useState)(null),[p,w]=(0,d.useState)(null),[x,I]=(0,d.useState)("LOADING"),N=(0,r.useRouter)();(0,d.useEffect)(()=>{let e=Number(new URLSearchParams(new URL(window.location.href).search).get("id"));g(!0),t.getAtleta(e).then(e=>{if(null===e)throw Error("Atleta no encontrado.");m(e.atleta),S(e.tutorDelAtleta)}).catch(e=>{O(e.message)}).finally(()=>{g(!1)}),l.isFollowing(e).then(e=>{e?I("FOLLOWING"):I("NOT_FOLLOWING")}).catch(e=>{O(e.message)})},[]);let j=()=>{I("LOADING"),(async()=>{try{"FOLLOWING"===x?(await l.stopFollowing(null==b?void 0:b.id),I("NOT_FOLLOWING"),w("Has dejado de seguir a "+(null==b?void 0:b.nombre)+" "+(null==b?void 0:b.apellido))):"NOT_FOLLOWING"===x&&(await l.follow(null==b?void 0:b.id),I("FOLLOWING"))}catch(e){O(e.message)}})()};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{}),(0,n.jsx)("h1",{style:{textAlign:"center"},children:"Atleta"}),h&&(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,n.jsx)(u.Z,{})}),b&&(0,n.jsx)(a.Z,{atleta:b,tutor:f,onError:e=>O(e.message),onTestClicked:e=>{N.push("/club/atletas/atleta/tests/test/?atletaId=".concat(b.id,"&testId=").concat(e.id))},vistaDeClub:!0,clubSiguiendoAtleta:x,onClickedButtonSiguiendo:()=>j()}),v&&(0,n.jsx)(s.Z,{message:v,onClose:()=>O(null)}),p&&(0,n.jsx)(i.Z,{message:p,onClose:()=>w(null),title:"Informaci\xf3n sobre el Atleta"})]})}},20773:function(e,t,l){"use strict";l.d(t,{Z:function(){return r}});var n=l(57437),s=l(69065),i=l(80824),a=l(66124),o=l(23269),c=l(98784),u=l(76548);function r(e){var t;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(s.Z,{open:!0,onClose:()=>e.onClose(),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,n.jsx)(i.Z,{id:"alert-dialog-title",children:null!==(t=e.title)&&void 0!==t?t:"Info"}),(0,n.jsx)(a.Z,{children:(0,n.jsx)(o.Z,{id:"alert-dialog-description",sx:{whiteSpace:"break-spaces"},children:e.message})}),(0,n.jsx)(c.Z,{children:(0,n.jsx)(u.Z,{onClick:()=>e.onClose(),autoFocus:!0,children:"OK"})})]})})}},45346:function(e,t,l){"use strict";l.d(t,{Z:function(){return u}});var n=l(57437),s=l(49864),i=l(16463),a=l(2265),o=l(37682),c=l(3402);function u(){let e=(0,a.useMemo)(()=>new s.Z().getAccountManagerService(),[]),t=(0,a.useMemo)(()=>new c.Y,[]),l=(0,i.useRouter)(),u=(0,i.usePathname)(),r={topBarSections:[{sectionTitle:"Atletas",subSections:[{subSectionTitle:"Buscar",path:"/club/atletas/filtrar"},{subSectionTitle:"Novedades",path:"/club/atletas/novedades"},{subSectionTitle:"Siguiendo",path:"/club/atletas/siguiendo"},{subSectionTitle:"Solicitudes de Contacto",path:"/club/atletas/contactos"}]},{sectionTitle:"Otros",subSections:[{subSectionTitle:"Configuraci\xf3n de la Cuenta",path:"/club/cuenta"},{subSectionTitle:"Salir",triggerAction:()=>{e.logout().then(()=>{l.replace("/")}).catch(e=>{window.alert(e.message)})}}]}]};return(0,n.jsx)(o.Z,{navItems:t.buildNavItems(r),activeItem:t.getActiveSubItem(r,u),onNavItemClick:(e,n)=>{t.processNavItemClick(r,{sectionTitle:e,subItem:n},l)}})}}},function(e){e.O(0,[6953,5282,4883,6147,8872,9864,1543,2971,7023,1744],function(){return e(e.s=79685)}),_N_E=e.O()}]);