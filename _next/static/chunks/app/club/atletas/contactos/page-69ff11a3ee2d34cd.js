(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[482],{98294:function(e,t,n){Promise.resolve().then(n.bind(n,49649))},49649:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var i=n(57437),s=n(46853),r=n(97231),c=n(45346),o=n(53255),l=n(78864),a=n(40468),u=n(32529),d=n(2265);function h(){let e=(0,d.useMemo)(()=>(0,l.o)(),[]),t=(0,d.useMemo)(()=>e.getClubAthleteContactService(),[]),[n,h]=(0,d.useState)(!1),[x,g]=(0,d.useState)(null),[j,v]=(0,d.useState)([]);return(0,d.useEffect)(()=>{h(!0),t.getContactRequests().then(e=>{(0,o.X)(e),v(e)}).catch(e=>{g(e.message)}).finally(()=>{h(!1)})},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{}),(0,i.jsx)("h1",{style:{textAlign:"center"},children:"Solicitudes de Contacto"}),n&&(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,i.jsx)(a.Z,{})}),(0,i.jsx)(u.Z,{gap:5,justifyContent:"center",alignItems:"center",children:j.map(e=>(0,i.jsx)(r.Z,{solicitud:e}))}),null!==x&&(0,i.jsx)(s.Z,{message:x,onClose:()=>g(null)})]})}},46853:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(57437),s=n(69065),r=n(80824),c=n(66124),o=n(23269),l=n(98784),a=n(76548);function u(e){var t;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(s.Z,{open:!0,onClose:()=>e.onClose(),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,i.jsx)(r.Z,{id:"alert-dialog-title",children:null!==(t=e.title)&&void 0!==t?t:"Error"}),(0,i.jsx)(c.Z,{children:(0,i.jsx)(o.Z,{id:"alert-dialog-description",children:e.message})}),(0,i.jsx)(l.Z,{children:(0,i.jsx)(a.Z,{onClick:()=>e.onClose(),autoFocus:!0,children:"OK"})})]})})}},97231:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var i=n(57437);let s=e=>{switch(e){case"SOLICITADO":return 0;case"EN_REVISION":return 1;case"RECHAZADO":case"APROBADO":return 2;default:throw Error("Could not evaulate contact request for state: "+e)}};var r=n(26327),c=n(34990),o=n(94696),l=n(32529),a=n(80511),u=n(96575),d=n(29889),h=n(55734),x=n(91326),g=n(14595),j=n(76548);function v(e){let t=e.solicitud,n=e.club,v=t.estadoMasReciente,m=s(v.estado);return(0,i.jsx)(c.Z,{sx:{maxWidth:600,width:"90%"},children:(0,i.jsxs)(o.Z,{children:[(0,i.jsxs)(l.Z,{direction:"row",alignItems:"center",gap:1,justifyContent:"center",children:[(0,i.jsx)(a.Z,{variant:"body1",sx:{textAlign:"center"},children:"Atleta:"}),(0,i.jsxs)(a.Z,{variant:"body2",sx:{textAlign:"center"},children:[t.atleta.nombre," ",t.atleta.apellido," (ID: ",t.atleta.id,")"]})]}),n&&(0,i.jsxs)(l.Z,{direction:"row",alignItems:"center",gap:1,justifyContent:"center",children:[(0,i.jsx)(a.Z,{variant:"body1",sx:{textAlign:"center"},children:"Club:"}),(0,i.jsxs)(a.Z,{variant:"body2",sx:{textAlign:"center"},children:[n.nombre," (ID: ",n.id,")"]})]}),(0,i.jsxs)(u.Z,{activeStep:m,children:[(0,i.jsx)(d.Z,{completed:m>=0,children:(0,i.jsx)(h.Z,{optional:0===m?"".concat((0,r.yu)(v.fecha)):"",children:"Solicitado"})},"SOLICITADO"),(0,i.jsx)(d.Z,{completed:m>=1,children:(0,i.jsx)(h.Z,{optional:1===m?"".concat((0,r.yu)(v.fecha)):"",children:"En revisi\xf3n"})},"EN_REVISION"),"RECHAZADO"!==v.estado&&(0,i.jsx)(d.Z,{completed:m>=2,children:(0,i.jsx)(h.Z,{optional:2===m?"".concat((0,r.yu)(v.fecha)):"",children:"Aprobado"})},"APROBADO"),"RECHAZADO"===v.estado&&(0,i.jsx)(d.Z,{completed:m>=2,children:(0,i.jsx)(h.Z,{optional:2===m?"".concat((0,r.yu)(v.fecha)):"",children:"Rechazado"})},"RECHAZADO")]}),n&&(0,i.jsxs)(x.Z,{sx:{mt:4},children:[(0,i.jsx)(g.Z,{}),(0,i.jsxs)(l.Z,{direction:"row",gap:4,sx:{mt:2},justifyContent:"end",children:["SOLICITADO"===v.estado&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(j.Z,{onClick:()=>{var t;return null===(t=e.onReject)||void 0===t?void 0:t.call(e)},variant:"outlined",children:"Rechazar"}),(0,i.jsx)(j.Z,{onClick:()=>{var t;return null===(t=e.onReview)||void 0===t?void 0:t.call(e)},variant:"contained",children:"Revisar"})]}),"EN_REVISION"===v.estado&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(j.Z,{onClick:()=>{var t;return null===(t=e.onReject)||void 0===t?void 0:t.call(e)},variant:"outlined",children:"Rechazar"}),(0,i.jsx)(j.Z,{onClick:()=>{var t;return null===(t=e.onAccept)||void 0===t?void 0:t.call(e)},variant:"contained",children:"Aprobar"})]}),("APROBADO"===v.estado||"RECHAZADO"===v.estado)&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(j.Z,{onClick:()=>{var t;return null===(t=e.onDismiss)||void 0===t?void 0:t.call(e)},variant:"contained",children:"Descartar"})})]})]})]})})}},37682:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var i=n(57437),s=n(91326),r=n(32184),c=n(7547),o=n(47905),l=n(57300),a=n(14595),u=n(71733),d=n(79806),h=n(60335),x=n(85465),g=n(2265);function j(e){var t;let[n,j]=g.useState(!1),v=e=>()=>{j(e)},m=(t,n)=>{var i,s;return t===(null===(i=e.activeItem)||void 0===i?void 0:i.sectionTitle)&&n===(null===(s=e.activeItem)||void 0===s?void 0:s.subItem)?"primary.light":"transparent"},p=(0,i.jsx)(s.Z,{sx:{width:250},role:"presentation",onClick:v(!1),children:null===(t=e.navItems)||void 0===t?void 0:t.map(t=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Z,{children:(0,i.jsx)(c.ZP,{disablePadding:!0,children:(0,i.jsx)(o.Z,{sx:{textAlign:"center"},primary:t.sectionTitle})},t.sectionTitle)}),(0,i.jsx)(r.Z,{children:t.subItems.map(n=>(0,i.jsx)(c.ZP,{disablePadding:!0,sx:{backgroundColor:m(t.sectionTitle,n)},children:(0,i.jsx)(l.Z,{onClick:()=>{var i;return null===(i=e.onNavItemClick)||void 0===i?void 0:i.call(e,t.sectionTitle,n)},children:(0,i.jsx)(o.Z,{primary:n})})},n))}),(0,i.jsx)(a.Z,{})]}))});return(0,i.jsx)(s.Z,{sx:{flexGrow:1,margin:"-8px"},children:(0,i.jsx)(u.Z,{position:"static",children:(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(h.Z,{edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:v(!0),children:"â˜° Sports Scout"}),(0,i.jsx)(x.ZP,{open:n,onClose:v(!1),children:p})]})})})}},3402:function(e,t,n){"use strict";n.d(t,{Y:function(){return i}});class i{buildNavItems(e){let t=[];return e.topBarSections.forEach(e=>{let n=e.subSections.map(e=>e.subSectionTitle),i={sectionTitle:e.sectionTitle,subItems:n};t.push(i)}),t}getActiveSubItem(e,t){for(let n=0;n<e.topBarSections.length;n++)for(let i=0;i<e.topBarSections[n].subSections.length;i++){let s=e.topBarSections[n].subSections[i];if(s.path===t)return{sectionTitle:e.topBarSections[n].sectionTitle,subItem:s.subSectionTitle}}return null}processNavItemClick(e,t,n){for(let i=0;i<e.topBarSections.length;i++){let s=e.topBarSections[i];for(let r=0;r<s.subSections.length;r++){let c=e.topBarSections[i].subSections[r];s.sectionTitle===t.sectionTitle&&c.subSectionTitle===t.subItem&&(c.triggerAction&&c.triggerAction(),c.path&&n.push(c.path))}}}}},45346:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(57437),s=n(16463),r=n(2265),c=n(37682),o=n(3402),l=n(78864);function a(){let e=(0,r.useMemo)(()=>(0,l.o)().getAccountManagerService(),[]),t=(0,r.useMemo)(()=>new o.Y,[]),n=(0,s.useRouter)(),a=(0,s.usePathname)(),u={topBarSections:[{sectionTitle:"Atletas",subSections:[{subSectionTitle:"Buscar",path:"/club/atletas/filtrar"},{subSectionTitle:"Novedades",path:"/club/atletas/novedades"},{subSectionTitle:"Siguiendo",path:"/club/atletas/siguiendo"},{subSectionTitle:"Solicitudes de Contacto",path:"/club/atletas/contactos"}]},{sectionTitle:"Otros",subSections:[{subSectionTitle:"Configuraci\xf3n de la Cuenta",path:"/club/cuenta"},{subSectionTitle:"Salir",triggerAction:()=>{e.logout().then(()=>{n.replace("/")}).catch(e=>{window.alert(e.message)})}}]}]};return(0,i.jsx)(c.Z,{navItems:t.buildNavItems(u),activeItem:t.getActiveSubItem(u,a),onNavItemClick:(e,i)=>{t.processNavItemClick(u,{sectionTitle:e,subItem:i},n)}})}},53255:function(e,t,n){"use strict";function i(e){e.sort((e,t)=>null===e.estadoMasReciente&&null===t.estadoMasReciente?0:null===e.estadoMasReciente?1:null===t.estadoMasReciente?-1:e.estadoMasReciente.fecha.getTime()-t.estadoMasReciente.fecha.getTime())}n.d(t,{X:function(){return i}})},26327:function(e,t,n){"use strict";n.d(t,{jM:function(){return r},np:function(){return c},yu:function(){return s}});let i=e=>(e instanceof Date||(e=new Date(e)),e);function s(e){let t=String((e=i(e)).getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),s=e.getFullYear();return"".concat(t,"/").concat(n,"/").concat(s)}function r(e){e=i(e);let t=new Date,n=t.getFullYear()-e.getFullYear(),s=new Date(t.getFullYear(),e.getMonth(),e.getDate());return t<s&&n--,n}function c(e){e=i(e);let t=new Date;return t.setHours(0,0,0,0),e.setHours(0,0,0,0),Math.floor((t.getTime()-e.getTime())/864e5)}}},function(e){e.O(0,[6953,4069,4883,8704,508,2529,3653,8864,2971,7023,1744],function(){return e(e.s=98294)}),_N_E=e.O()}]);