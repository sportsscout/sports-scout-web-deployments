(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2903],{92355:function(e,t,n){Promise.resolve().then(n.bind(n,23935))},23935:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var i=n(57437),r=n(763),s=n(46853),a=n(94093),l=n(87070),o=n(33657),c=n(40468),d=n(32529),u=n(76548),m=n(32184),h=n(7547),x=n(47905),g=n(60335),j=n(2265),Z=n(87720),p=n(78864),C=n(69065),b=n(80824),f=n(66124),v=n(66858),S=n(98784);function k(e){let[t,n]=(0,j.useState)(!1),[r,a]=(0,j.useState)(null),[l,o]=(0,j.useState)(""),[m,h]=(0,j.useState)(""),[x,g]=(0,j.useState)(""),k=()=>{let t={name:l,username:m,password:x};n(!0),(0,p.o)().getAdministratorAccountManager().create(t).then(()=>{delete t.password,e.onAgregado(t)}).catch(e=>{a(e.message)}).finally(()=>{n(!1)})};return(0,i.jsxs)(C.Z,{open:!0,onClose:()=>e.onCerrado(),children:[(0,i.jsx)(b.Z,{children:"Agregar Administrador"}),(0,i.jsxs)(f.Z,{children:[t&&(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,i.jsx)(c.Z,{})}),r&&(0,i.jsx)(s.Z,{message:r,onClose:()=>a(null)}),!1===t&&null===r&&(0,i.jsxs)(d.Z,{direction:"column",gap:2,sx:{mt:1},children:[(0,i.jsx)(v.Z,{required:!0,label:"Nombre",defaultValue:l,onChange:e=>o(e.target.value)}),(0,i.jsx)(v.Z,{required:!0,label:"Nombre de Usuario",defaultValue:m,onChange:e=>h(e.target.value)}),(0,i.jsx)(Z.Z,{required:!0,label:"Contrase\xf1a",defaultValue:x,onChange:e=>g(e)})]})]}),!1===t&&null===r&&(0,i.jsxs)(S.Z,{children:[(0,i.jsx)(u.Z,{onClick:()=>e.onCerrado(),children:"Cancelar"}),(0,i.jsx)(u.Z,{onClick:()=>k(),children:"Agregar"})]})]})}var A=n(20773);function T(e){let[t,n]=(0,j.useState)(!1),[a,l]=(0,j.useState)(!1),[o,m]=(0,j.useState)(null),[h,x]=(0,j.useState)(e.administrador.name),g=()=>{let t={name:h};n(!0),(0,p.o)().getAdministratorAccountManager().update(t).then(()=>{delete t.password,e.onEditado(t)}).catch(e=>{m(e.message)}).finally(()=>{n(!1)})};return(0,i.jsxs)(C.Z,{open:!0,onClose:()=>e.onCerrado(),children:[(0,i.jsx)(b.Z,{children:"Editar Administrador"}),(0,i.jsxs)(f.Z,{children:[t&&(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,i.jsx)(c.Z,{})}),o&&(0,i.jsx)(s.Z,{message:o,onClose:()=>m(null)}),!1===t&&null===o&&(0,i.jsxs)(d.Z,{direction:"column",gap:2,sx:{mt:1},children:[(0,i.jsx)(v.Z,{required:!0,label:"Nombre",defaultValue:h,onChange:e=>x(e.target.value)}),(0,i.jsx)(u.Z,{variant:"outlined",onClick:()=>l(!0),children:"Cambiar contrase\xf1a"})]}),a&&(0,i.jsx)(r.Z,{title:"Confirmar cambio de contrase\xf1a",message:"Se le enviar\xe1 un correo electr\xf3nico a ".concat(e.administrador.username," con un enlace para cambiar la contrase\xf1a"),onClickedNo:()=>l(!1),onClickedOk:()=>{l(!1),e.onRecuperarContrasenaConfirmed()}})]}),!1===t&&null===o&&(0,i.jsxs)(S.Z,{children:[(0,i.jsx)(u.Z,{onClick:()=>e.onCerrado(),children:"Cancelar"}),(0,i.jsx)(u.Z,{onClick:()=>g(),children:"Confirmar"})]})]})}function y(){let e=(0,j.useMemo)(()=>(0,p.o)(),[]),t=(0,j.useMemo)(()=>e.getAdministratorAccountManager(),[]),n=(0,j.useMemo)(()=>e.getAccountManagerService(),[]),[Z,C]=(0,j.useState)(!1),[b,f]=(0,j.useState)(null),[v,S]=(0,j.useState)([]),[y,I]=(0,j.useState)(!1),[w,N]=(0,j.useState)(!1),[F,V]=(0,j.useState)(!1),[E,M]=(0,j.useState)(!1),[q,B]=(0,j.useState)(!1),[P,O]=(0,j.useState)(!1),[_,R]=(0,j.useState)(!1),[K,Y]=(0,j.useState)(null);(0,j.useEffect)(()=>{C(!0),t.getAll().then(e=>{S(e)}).catch(e=>{f(e.message)}).finally(()=>{C(!1)})},[]);let D=e=>{S([...v,e]),N(!0)},G=()=>{C(!0),t.delete(K).then(()=>{S(v.filter(e=>e.username!==(null==K?void 0:K.username))),M(!0)}).catch(e=>{f(e.message)}).finally(()=>{C(!1)})},U=e=>{let t=[...v];for(let n=0;n<t.length;n++)if(t[n].username===(null==K?void 0:K.username)){t[n].name=e.name;break}S(t),B(!1),O(!0)},z=()=>{B(!1),C(!0),n.requestPasswordReset(null==K?void 0:K.username).then(()=>{R(!0)}).catch(e=>{f(e.message)}).finally(()=>{C(!1)})};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Z,{}),(0,i.jsx)("h1",{style:{textAlign:"center"},children:"Administradores"}),Z&&(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,i.jsx)(c.Z,{})}),b&&(0,i.jsx)(s.Z,{message:b,onClose:()=>f(null)}),!Z&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{sx:{alignItems:"center"},children:(0,i.jsx)(u.Z,{sx:{alignSelf:"center"},variant:"contained",onClick:()=>I(!0),children:"Agregar"})}),(0,i.jsx)(m.Z,{children:v.map(e=>(0,i.jsxs)(h.ZP,{children:[(0,i.jsx)(x.Z,{primary:e.name,secondary:e.username}),(0,i.jsx)(g.Z,{onClick:()=>{Y(e),B(!0)},children:(0,i.jsx)(l.Z,{})}),(0,i.jsx)(g.Z,{onClick:()=>{Y(e),V(!0)},children:(0,i.jsx)(o.Z,{})})]}))})]}),F&&(0,i.jsx)(r.Z,{message:"\xbfSeguro que desea borrar a "+(null==K?void 0:K.name)+"?",onClose:()=>V(!1),onClickedNo:()=>V(!1),onClickedOk:()=>{V(!1),G()}}),y&&(0,i.jsx)(k,{onAgregado:e=>{I(!1),D(e)},onCerrado:()=>I(!1)}),w&&(0,i.jsx)(A.Z,{message:"Administrador agregado",onClose:()=>N(!1)}),E&&(0,i.jsx)(A.Z,{message:"Administrador borrado",onClose:()=>M(!1)}),q&&(0,i.jsx)(T,{administrador:K,onCerrado:()=>B(!1),onEditado:e=>U(e),onRecuperarContrasenaConfirmed:()=>z()}),P&&(0,i.jsx)(A.Z,{message:"Administrador editado",onClose:()=>O(!1)}),_&&(0,i.jsx)(A.Z,{message:"Enlace para recuperaci\xf3n de contrase\xf1a enviado al correo electr\xf3nico. Verifique el correo para continuar con el proceso.",onClose:()=>R(!1)})]})}},763:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(57437),r=n(69065),s=n(80824),a=n(66124),l=n(23269),o=n(98784),c=n(76548);function d(e){var t;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.Z,{open:!0,onClose:()=>{var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,i.jsx)(s.Z,{id:"alert-dialog-title",children:null!==(t=e.title)&&void 0!==t?t:"Confirmaci\xf3n"}),(0,i.jsx)(a.Z,{children:(0,i.jsx)(l.Z,{id:"alert-dialog-description",sx:{whiteSpace:"break-spaces"},children:e.message})}),(0,i.jsxs)(o.Z,{children:[(0,i.jsx)(c.Z,{onClick:()=>e.onClickedNo(),autoFocus:!0,children:"No"}),(0,i.jsx)(c.Z,{onClick:()=>e.onClickedOk(),children:"Si"})]})]})})}},46853:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(57437),r=n(69065),s=n(80824),a=n(66124),l=n(23269),o=n(98784),c=n(76548);function d(e){var t;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.Z,{open:!0,onClose:()=>e.onClose(),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,i.jsx)(s.Z,{id:"alert-dialog-title",children:null!==(t=e.title)&&void 0!==t?t:"Error"}),(0,i.jsx)(a.Z,{children:(0,i.jsx)(l.Z,{id:"alert-dialog-description",children:e.message})}),(0,i.jsx)(o.Z,{children:(0,i.jsx)(c.Z,{onClick:()=>e.onClose(),autoFocus:!0,children:"OK"})})]})})}},20773:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(57437),r=n(69065),s=n(80824),a=n(66124),l=n(23269),o=n(98784),c=n(76548);function d(e){var t;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.Z,{open:!0,onClose:()=>e.onClose(),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,i.jsx)(s.Z,{id:"alert-dialog-title",children:null!==(t=e.title)&&void 0!==t?t:"Info"}),(0,i.jsx)(a.Z,{children:(0,i.jsx)(l.Z,{id:"alert-dialog-description",sx:{whiteSpace:"break-spaces"},children:e.message})}),(0,i.jsx)(o.Z,{children:(0,i.jsx)(c.Z,{onClick:()=>e.onClose(),autoFocus:!0,children:"OK"})})]})})}},87720:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var i=n(57437),r=n(60692),s=n(83607),a=n(28549),l=n(56065),o=n(55677),c=n(52326),d=n(60335),u=n(2265);function m(e){var t,n,m;let[h,x]=(0,u.useState)(!1);return(0,i.jsxs)(a.Z,{variant:"outlined",children:[(0,i.jsx)(l.Z,{htmlFor:"outlined-adornment-password",children:"Contrase\xf1a"}),(0,i.jsx)(o.Z,{id:"outlined-adornment-password",type:h?"text":"password",required:null!==(t=e.required)&&void 0!==t&&t,endAdornment:(0,i.jsx)(c.Z,{position:"end",children:(0,i.jsx)(d.Z,{"aria-label":"toggle password visibility",onClick:()=>x(!h),onMouseDown:()=>x(!h),edge:"end",children:h?(0,i.jsx)(r.Z,{}):(0,i.jsx)(s.Z,{})})}),label:null!==(n=e.label)&&void 0!==n?n:"Contrase\xf1a",defaultValue:null!==(m=e.defaultValue)&&void 0!==m?m:"",onChange:t=>{var n;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,t.target.value)}})]})}},37682:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var i=n(57437),r=n(91326),s=n(32184),a=n(7547),l=n(47905),o=n(57300),c=n(14595),d=n(71733),u=n(79806),m=n(60335),h=n(85465),x=n(2265);function g(e){var t;let[n,g]=x.useState(!1),j=e=>()=>{g(e)},Z=(t,n)=>{var i,r;return t===(null===(i=e.activeItem)||void 0===i?void 0:i.sectionTitle)&&n===(null===(r=e.activeItem)||void 0===r?void 0:r.subItem)?"primary.light":"transparent"},p=(0,i.jsx)(r.Z,{sx:{width:250},role:"presentation",onClick:j(!1),children:null===(t=e.navItems)||void 0===t?void 0:t.map(t=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Z,{children:(0,i.jsx)(a.ZP,{disablePadding:!0,children:(0,i.jsx)(l.Z,{sx:{textAlign:"center"},primary:t.sectionTitle})},t.sectionTitle)}),(0,i.jsx)(s.Z,{children:t.subItems.map(n=>(0,i.jsx)(a.ZP,{disablePadding:!0,sx:{backgroundColor:Z(t.sectionTitle,n)},children:(0,i.jsx)(o.Z,{onClick:()=>{var i;return null===(i=e.onNavItemClick)||void 0===i?void 0:i.call(e,t.sectionTitle,n)},children:(0,i.jsx)(l.Z,{primary:n})})},n))}),(0,i.jsx)(c.Z,{})]}))});return(0,i.jsx)(r.Z,{sx:{flexGrow:1,margin:"-8px"},children:(0,i.jsx)(d.Z,{position:"static",children:(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(m.Z,{edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:j(!0),children:"â˜° Sports Scout"}),(0,i.jsx)(h.ZP,{open:n,onClose:j(!1),children:p})]})})})}},3402:function(e,t,n){"use strict";n.d(t,{Y:function(){return i}});class i{buildNavItems(e){let t=[];return e.topBarSections.forEach(e=>{let n=e.subSections.map(e=>e.subSectionTitle),i={sectionTitle:e.sectionTitle,subItems:n};t.push(i)}),t}getActiveSubItem(e,t){for(let n=0;n<e.topBarSections.length;n++)for(let i=0;i<e.topBarSections[n].subSections.length;i++){let r=e.topBarSections[n].subSections[i];if(r.path===t)return{sectionTitle:e.topBarSections[n].sectionTitle,subItem:r.subSectionTitle}}return null}processNavItemClick(e,t,n){for(let i=0;i<e.topBarSections.length;i++){let r=e.topBarSections[i];for(let s=0;s<r.subSections.length;s++){let a=e.topBarSections[i].subSections[s];r.sectionTitle===t.sectionTitle&&a.subSectionTitle===t.subItem&&(a.triggerAction&&a.triggerAction(),a.path&&n.push(a.path))}}}}},94093:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(57437),r=n(16463),s=n(2265),a=n(37682),l=n(3402),o=n(78864);function c(){let e=(0,s.useMemo)(()=>(0,o.o)().getAccountManagerService(),[]),t=(0,s.useMemo)(()=>new l.Y,[]),n=(0,r.useRouter)(),c=(0,r.usePathname)(),d={topBarSections:[{sectionTitle:"Clubes",subSections:[{subSectionTitle:"Ver",path:"/administrador/clubes"},{subSectionTitle:"Solicitudes de Contacto",path:"/administrador/clubes/solicitudes-de-contacto"},{subSectionTitle:"Ver Formularios",path:"/administrador/clubes/formularios"}]},{sectionTitle:"Tutores",subSections:[{subSectionTitle:"Ver",path:"/administrador/tutores"},{subSectionTitle:"Ver Formularios",path:"/administrador/tutores/formularios"}]},{sectionTitle:"Atletas",subSections:[{subSectionTitle:"Filtrar",path:"/administrador/atletas/filtrar"},{subSectionTitle:"Ver",path:"/administrador/atletas"}]},{sectionTitle:"Otros",subSections:[{subSectionTitle:"Editar cuentas Administradoras",path:"/administrador/cuentas"},{subSectionTitle:"Salir",triggerAction:()=>{e.logout().then(()=>{n.replace("/")}).catch(e=>{window.alert(e.message)})}}]}]};return(0,i.jsx)(a.Z,{navItems:t.buildNavItems(d),activeItem:t.getActiveSubItem(d,c),onNavItemClick:(e,i)=>{t.processNavItemClick(d,{sectionTitle:e,subItem:i},n)}})}}},function(e){e.O(0,[6953,4069,4883,8704,508,3868,3674,2529,6858,5549,8864,2971,7023,1744],function(){return e(e.s=92355)}),_N_E=e.O()}]);