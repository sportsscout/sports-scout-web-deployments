(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2903],{53143:function(e,t,n){Promise.resolve().then(n.bind(n,23935))},23935:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var i=n(57437),s=n(763),r=n(46853),l=n(94093),a=n(49864),o=n(87070),c=n(33657),d=n(40468),u=n(32529),h=n(76548),x=n(32184),m=n(7547),j=n(47905),g=n(60335),Z=n(2265),b=n(87720),p=n(69065),C=n(80824),f=n(66124),v=n(66858),S=n(98784);function k(e){let[t,n]=(0,Z.useState)(!1),[s,l]=(0,Z.useState)(null),[o,c]=(0,Z.useState)(""),[x,m]=(0,Z.useState)(""),[j,g]=(0,Z.useState)(""),k=()=>{let t={name:o,username:x,password:j};n(!0),new a.Z().getAdministratorAccountManager().create(t).then(()=>{delete t.password,e.onAgregado(t)}).catch(e=>{l(e.message)}).finally(()=>{n(!1)})};return(0,i.jsxs)(p.Z,{open:!0,onClose:()=>e.onCerrado(),children:[(0,i.jsx)(C.Z,{children:"Agregar Administrador"}),(0,i.jsxs)(f.Z,{children:[t&&(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,i.jsx)(d.Z,{})}),s&&(0,i.jsx)(r.Z,{message:s,onClose:()=>l(null)}),!1===t&&null===s&&(0,i.jsxs)(u.Z,{direction:"column",gap:2,sx:{mt:1},children:[(0,i.jsx)(v.Z,{required:!0,label:"Nombre",defaultValue:o,onChange:e=>c(e.target.value)}),(0,i.jsx)(v.Z,{required:!0,label:"Nombre de Usuario",defaultValue:x,onChange:e=>m(e.target.value)}),(0,i.jsx)(b.Z,{required:!0,label:"Contrase\xf1a",defaultValue:j,onChange:e=>g(e)})]})]}),!1===t&&null===s&&(0,i.jsxs)(S.Z,{children:[(0,i.jsx)(h.Z,{onClick:()=>e.onCerrado(),children:"Cancelar"}),(0,i.jsx)(h.Z,{onClick:()=>k(),children:"Agregar"})]})]})}var A=n(20773),T=n(80511);function y(e){let[t,n]=(0,Z.useState)(!1),[s,l]=(0,Z.useState)(null),[o,c]=(0,Z.useState)(e.administrador.name),[x,m]=(0,Z.useState)(e.administrador.username),[j,g]=(0,Z.useState)(""),k=()=>{let t={name:o,username:x,password:j};n(!0),new a.Z().getAdministratorAccountManager().update(t).then(()=>{delete t.password,e.onEditado(t)}).catch(e=>{l(e.message)}).finally(()=>{n(!1)})};return(0,i.jsxs)(p.Z,{open:!0,onClose:()=>e.onCerrado(),children:[(0,i.jsx)(C.Z,{children:"Editar Administrador"}),(0,i.jsxs)(f.Z,{children:[t&&(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,i.jsx)(d.Z,{})}),s&&(0,i.jsx)(r.Z,{message:s,onClose:()=>l(null)}),!1===t&&null===s&&(0,i.jsxs)(u.Z,{direction:"column",gap:2,sx:{mt:1},children:[(0,i.jsx)(v.Z,{required:!0,label:"Nombre",defaultValue:o,onChange:e=>c(e.target.value)}),(0,i.jsx)(v.Z,{required:!0,label:"Nombre de Usuario",defaultValue:x,disabled:!0}),(0,i.jsx)(T.Z,{variant:"body2",children:"Dej\xe1 la contrase\xf1a vac\xeda si no quer\xe9s editarla"}),(0,i.jsx)(b.Z,{required:!0,label:"Contrase\xf1a",defaultValue:j,onChange:e=>g(e)})]})]}),!1===t&&null===s&&(0,i.jsxs)(S.Z,{children:[(0,i.jsx)(h.Z,{onClick:()=>e.onCerrado(),children:"Cancelar"}),(0,i.jsx)(h.Z,{onClick:()=>k(),children:"Confirmar"})]})]})}function I(){let e=(0,Z.useMemo)(()=>new a.Z,[]),t=(0,Z.useMemo)(()=>e.getAdministratorAccountManager(),[]),[n,b]=(0,Z.useState)(!1),[p,C]=(0,Z.useState)(null),[f,v]=(0,Z.useState)([]),[S,T]=(0,Z.useState)(!1),[I,w]=(0,Z.useState)(!1),[N,F]=(0,Z.useState)(!1),[V,q]=(0,Z.useState)(!1),[E,B]=(0,Z.useState)(!1),[M,O]=(0,Z.useState)(!1),[P,_]=(0,Z.useState)(null);(0,Z.useEffect)(()=>{b(!0),t.getAll().then(e=>{v(e)}).catch(e=>{C(e.message)}).finally(()=>{b(!1)})},[]);let D=e=>{v([...f,e]),w(!0)},K=()=>{b(!0),t.delete(P).then(()=>{v(f.filter(e=>e.username!==(null==P?void 0:P.username))),q(!0)}).catch(e=>{C(e.message)}).finally(()=>{b(!1)})},U=e=>{console.log(e);let t=[...f];for(let n=0;n<t.length;n++)if(t[n].username===e.username){Object.assign(t[n],e);break}console.log(t),v(t),B(!1),O(!0)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Z,{}),(0,i.jsx)("h1",{style:{textAlign:"center"},children:"Administradores"}),n&&(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,i.jsx)(d.Z,{})}),p&&(0,i.jsx)(r.Z,{message:p,onClose:()=>C(null)}),!n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{sx:{alignItems:"center"},children:(0,i.jsx)(h.Z,{sx:{alignSelf:"center"},variant:"contained",onClick:()=>T(!0),children:"Agregar"})}),(0,i.jsx)(x.Z,{children:f.map(e=>(0,i.jsxs)(m.ZP,{children:[(0,i.jsx)(j.Z,{primary:e.name,secondary:e.username}),(0,i.jsx)(g.Z,{onClick:()=>{_(e),B(!0)},children:(0,i.jsx)(o.Z,{})}),(0,i.jsx)(g.Z,{onClick:()=>{_(e),F(!0)},children:(0,i.jsx)(c.Z,{})})]}))})]}),N&&(0,i.jsx)(s.Z,{message:"\xbfSeguro que desea borrar a "+(null==P?void 0:P.name)+"?",onClose:()=>F(!1),onClickedNo:()=>F(!1),onClickedOk:()=>{F(!1),K()}}),S&&(0,i.jsx)(k,{onAgregado:e=>{T(!1),D(e)},onCerrado:()=>T(!1)}),I&&(0,i.jsx)(A.Z,{message:"Administrador agregado",onClose:()=>w(!1)}),V&&(0,i.jsx)(A.Z,{message:"Administrador borrado",onClose:()=>q(!1)}),E&&(0,i.jsx)(y,{administrador:P,onCerrado:()=>B(!1),onEditado:e=>U(e)}),M&&(0,i.jsx)(A.Z,{message:"Administrador editado",onClose:()=>O(!1)})]})}},763:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(57437),s=n(69065),r=n(80824),l=n(66124),a=n(23269),o=n(98784),c=n(76548);function d(e){var t;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(s.Z,{open:!0,onClose:()=>{var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,i.jsx)(r.Z,{id:"alert-dialog-title",children:null!==(t=e.title)&&void 0!==t?t:"Confirmaci\xf3n"}),(0,i.jsx)(l.Z,{children:(0,i.jsx)(a.Z,{id:"alert-dialog-description",sx:{whiteSpace:"break-spaces"},children:e.message})}),(0,i.jsxs)(o.Z,{children:[(0,i.jsx)(c.Z,{onClick:()=>e.onClickedNo(),autoFocus:!0,children:"No"}),(0,i.jsx)(c.Z,{onClick:()=>e.onClickedOk(),children:"Si"})]})]})})}},46853:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(57437),s=n(69065),r=n(80824),l=n(66124),a=n(23269),o=n(98784),c=n(76548);function d(e){var t;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(s.Z,{open:!0,onClose:()=>e.onClose(),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,i.jsx)(r.Z,{id:"alert-dialog-title",children:null!==(t=e.title)&&void 0!==t?t:"Error"}),(0,i.jsx)(l.Z,{children:(0,i.jsx)(a.Z,{id:"alert-dialog-description",children:e.message})}),(0,i.jsx)(o.Z,{children:(0,i.jsx)(c.Z,{onClick:()=>e.onClose(),autoFocus:!0,children:"OK"})})]})})}},20773:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(57437),s=n(69065),r=n(80824),l=n(66124),a=n(23269),o=n(98784),c=n(76548);function d(e){var t;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(s.Z,{open:!0,onClose:()=>e.onClose(),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,i.jsx)(r.Z,{id:"alert-dialog-title",children:null!==(t=e.title)&&void 0!==t?t:"Info"}),(0,i.jsx)(l.Z,{children:(0,i.jsx)(a.Z,{id:"alert-dialog-description",sx:{whiteSpace:"break-spaces"},children:e.message})}),(0,i.jsx)(o.Z,{children:(0,i.jsx)(c.Z,{onClick:()=>e.onClose(),autoFocus:!0,children:"OK"})})]})})}},87720:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var i=n(57437),s=n(60692),r=n(83607),l=n(28549),a=n(56065),o=n(55677),c=n(52326),d=n(60335),u=n(2265);function h(e){var t,n,h;let[x,m]=(0,u.useState)(!1);return(0,i.jsxs)(l.Z,{variant:"outlined",children:[(0,i.jsx)(a.Z,{htmlFor:"outlined-adornment-password",children:"Contrase\xf1a"}),(0,i.jsx)(o.Z,{id:"outlined-adornment-password",type:x?"text":"password",required:null!==(t=e.required)&&void 0!==t&&t,endAdornment:(0,i.jsx)(c.Z,{position:"end",children:(0,i.jsx)(d.Z,{"aria-label":"toggle password visibility",onClick:()=>m(!x),onMouseDown:()=>m(!x),edge:"end",children:x?(0,i.jsx)(s.Z,{}):(0,i.jsx)(r.Z,{})})}),label:null!==(n=e.label)&&void 0!==n?n:"Contrase\xf1a",defaultValue:null!==(h=e.defaultValue)&&void 0!==h?h:"",onChange:t=>{var n;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,t.target.value)}})]})}},37682:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var i=n(57437),s=n(91326),r=n(32184),l=n(7547),a=n(47905),o=n(57300),c=n(14595),d=n(71733),u=n(79806),h=n(60335),x=n(85465),m=n(2265);function j(e){var t;let[n,j]=m.useState(!1),g=e=>()=>{j(e)},Z=(t,n)=>{var i,s;return t===(null===(i=e.activeItem)||void 0===i?void 0:i.sectionTitle)&&n===(null===(s=e.activeItem)||void 0===s?void 0:s.subItem)?"primary.light":"transparent"},b=(0,i.jsx)(s.Z,{sx:{width:250},role:"presentation",onClick:g(!1),children:null===(t=e.navItems)||void 0===t?void 0:t.map(t=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Z,{children:(0,i.jsx)(l.ZP,{disablePadding:!0,children:(0,i.jsx)(a.Z,{sx:{textAlign:"center"},primary:t.sectionTitle})},t.sectionTitle)}),(0,i.jsx)(r.Z,{children:t.subItems.map(n=>(0,i.jsx)(l.ZP,{disablePadding:!0,sx:{backgroundColor:Z(t.sectionTitle,n)},children:(0,i.jsx)(o.Z,{onClick:()=>{var i;return null===(i=e.onNavItemClick)||void 0===i?void 0:i.call(e,t.sectionTitle,n)},children:(0,i.jsx)(a.Z,{primary:n})})},n))}),(0,i.jsx)(c.Z,{})]}))});return(0,i.jsx)(s.Z,{sx:{flexGrow:1,margin:"-8px"},children:(0,i.jsx)(d.Z,{position:"static",children:(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(h.Z,{edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:g(!0),children:"â˜° Sports Scout"}),(0,i.jsx)(x.ZP,{open:n,onClose:g(!1),children:b})]})})})}},3402:function(e,t,n){"use strict";n.d(t,{Y:function(){return i}});class i{buildNavItems(e){let t=[];return e.topBarSections.forEach(e=>{let n=e.subSections.map(e=>e.subSectionTitle),i={sectionTitle:e.sectionTitle,subItems:n};t.push(i)}),t}getActiveSubItem(e,t){for(let n=0;n<e.topBarSections.length;n++)for(let i=0;i<e.topBarSections[n].subSections.length;i++){let s=e.topBarSections[n].subSections[i];if(s.path===t)return{sectionTitle:e.topBarSections[n].sectionTitle,subItem:s.subSectionTitle}}return null}processNavItemClick(e,t,n){for(let i=0;i<e.topBarSections.length;i++){let s=e.topBarSections[i];for(let r=0;r<s.subSections.length;r++){let l=e.topBarSections[i].subSections[r];s.sectionTitle===t.sectionTitle&&l.subSectionTitle===t.subItem&&(l.triggerAction&&l.triggerAction(),l.path&&n.push(l.path))}}}}},94093:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(57437),s=n(49864),r=n(16463),l=n(2265),a=n(37682),o=n(3402);function c(){let e=(0,l.useMemo)(()=>new s.Z().getAccountManagerService(),[]),t=(0,l.useMemo)(()=>new o.Y,[]),n=(0,r.useRouter)(),c=(0,r.usePathname)(),d={topBarSections:[{sectionTitle:"Clubes",subSections:[{subSectionTitle:"Ver",path:"/administrador/clubes"},{subSectionTitle:"Solicitudes de Contacto",path:"/administrador/clubes/solicitudes-de-contacto"},{subSectionTitle:"Ver Formularios",path:"/administrador/clubes/formularios"}]},{sectionTitle:"Tutores",subSections:[{subSectionTitle:"Ver",path:"/administrador/tutores"},{subSectionTitle:"Ver Formularios",path:"/administrador/tutores/formularios"}]},{sectionTitle:"Atletas",subSections:[{subSectionTitle:"Filtrar",path:"/administrador/atletas/filtrar"},{subSectionTitle:"Ver",path:"/administrador/atletas"}]},{sectionTitle:"Otros",subSections:[{subSectionTitle:"Editar cuentas Administradoras",path:"/administrador/cuentas"},{subSectionTitle:"Salir",triggerAction:()=>{e.logout().then(()=>{n.replace("/")}).catch(e=>{window.alert(e.message)})}}]}]};return(0,i.jsx)(a.Z,{navItems:t.buildNavItems(d),activeItem:t.getActiveSubItem(d,c),onNavItemClick:(e,i)=>{t.processNavItemClick(d,{sectionTitle:e,subItem:i},n)}})}}},function(e){e.O(0,[6953,5282,4883,6147,9896,3674,2529,6858,5549,9864,2971,7023,1744],function(){return e(e.s=53143)}),_N_E=e.O()}]);