(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[778],{31212:function(e,t,i){Promise.resolve().then(i.bind(i,91938))},91938:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return g}});var a=i(57437),l=i(763),s=i(46853),n=i(20773),o=i(64917),r=i(97231),d=i(94093),c=i(49864),u=i(40468),h=i(80511),m=i(32529),b=i(2265);function g(){let e=(0,b.useMemo)(()=>new c.Z,[]),t=(0,b.useMemo)(()=>e.getClubAthleteAdminContactService(),[]),[i,g]=(0,b.useState)(!1),[f,x]=(0,b.useState)(null),[j,C]=(0,b.useState)([]),[Z,p]=(0,b.useState)(null),[S,v]=(0,b.useState)(!1),[k,y]=(0,b.useState)(!1),[A,N]=(0,b.useState)(!1),[T,w]=(0,b.useState)(!1),[O,I]=(0,b.useState)(!1),[F,R]=(0,b.useState)(!1),[E,_]=(0,b.useState)(!1);(0,b.useEffect)(()=>{g(!0),t.getContactRequests().then(e=>{C(e)}).catch(e=>{x(e.message)}).finally(()=>{g(!1)})},[]);let D=e=>{I(!0),t.markAsInReview(e).then(()=>{let t=[...j];for(let i=0;i<t.length;i++)if(t[i].atleta.id===e.atleta.id&&t[i].club.id===e.club.id){t[i].estados.unshift({fecha:new Date,estado:"EN_REVISION"});break}C(t),R(!0)}).catch(e=>{x(e.message)}).finally(()=>{v(!1),I(!1)})},V=e=>{I(!0),t.markAsRejected(e).then(()=>{let t=[...j];for(let i=0;i<t.length;i++)if(t[i].atleta.id===e.atleta.id&&t[i].club.id===e.club.id){t[i].estados.unshift({fecha:new Date,estado:"RECHAZADO"});break}C(t),R(!0)}).catch(e=>{x(e.message)}).finally(()=>{y(!1),I(!1)})},q=e=>{I(!0),t.markAsApproved(e).then(()=>{let t=[...j];for(let i=0;i<t.length;i++)if(t[i].atleta.id===e.atleta.id&&t[i].club.id===e.club.id){t[i].estados.unshift({fecha:new Date,estado:"APROBADO"});break}C(t),R(!0)}).catch(e=>{x(e.message)}).finally(()=>{N(!1),I(!1)})},M=e=>{I(!0),t.markAsRejected(e).then(()=>{C(j.filter(t=>!(t.atleta.id===e.atleta.id&&t.club.id===e.club.id))),_(!0)}).catch(e=>{x(e.message)}).finally(()=>{w(!1),I(!1)})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{}),(0,a.jsx)("h1",{style:{textAlign:"center"},children:"Solicitudes de Contacto"}),i&&(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,a.jsx)(u.Z,{})}),null!==f&&(0,a.jsx)(s.Z,{message:f,onClose:()=>x(null)}),0===j.length&&(0,a.jsx)(h.Z,{sx:{textAlign:"center"},children:"No hay solicitudes"}),(0,a.jsx)(m.Z,{gap:5,justifyContent:"center",alignItems:"center",children:j.map(e=>(0,a.jsx)(r.Z,{solicitud:e,club:e.club,onReview:()=>{p(e),v(!0)},onReject:()=>{p(e),y(!0)},onAccept:()=>{p(e),N(!0)},onDismiss:()=>{p(e),w(!0)}}))}),S&&(0,a.jsx)(l.Z,{message:"\xbfSeguro que desea cambiar el estado de la solicitud del atleta '"+(null==Z?void 0:Z.atleta.nombre)+" "+(null==Z?void 0:Z.atleta.apellido)+"' a en revisi\xf3n?",onClickedNo:()=>v(!1),onClickedOk:()=>D(Z),onClose:()=>v(!1)}),k&&(0,a.jsx)(l.Z,{message:"\xbfSeguro que desea cambiar el estado de la solicitud del atleta '"+(null==Z?void 0:Z.atleta.nombre)+" "+(null==Z?void 0:Z.atleta.apellido)+"' a en rechazada?",onClickedNo:()=>y(!1),onClickedOk:()=>V(Z),onClose:()=>y(!1)}),A&&(0,a.jsx)(l.Z,{message:"\xbfSeguro que desea cambiar el estado de la solicitud del atleta '"+(null==Z?void 0:Z.atleta.nombre)+" "+(null==Z?void 0:Z.atleta.apellido)+"' a en aceptada?",onClickedNo:()=>N(!1),onClickedOk:()=>q(Z),onClose:()=>N(!1)}),T&&(0,a.jsx)(l.Z,{message:"\xbfSeguro que desea descartar la solicitud del atleta '"+(null==Z?void 0:Z.atleta.nombre)+" "+(null==Z?void 0:Z.atleta.apellido)+"'?",onClickedNo:()=>w(!1),onClickedOk:()=>M(Z),onClose:()=>w(!1)}),O&&(0,a.jsx)(o.Z,{message:"Cargando cambio de estado",isLoading:O,onClose:()=>I(!1)}),F&&(0,a.jsx)(n.Z,{message:"El estado de la solicitud se ha cambiado",onClose:()=>R(!1)}),E&&(0,a.jsx)(n.Z,{message:"La solicitud ha sido descartada",onClose:()=>_(!1)})]})}},763:function(e,t,i){"use strict";i.d(t,{Z:function(){return c}});var a=i(57437),l=i(69065),s=i(80824),n=i(66124),o=i(23269),r=i(98784),d=i(76548);function c(e){var t;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(l.Z,{open:!0,onClose:()=>{var t;return null===(t=e.onClose)||void 0===t?void 0:t.call(e)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,a.jsx)(s.Z,{id:"alert-dialog-title",children:null!==(t=e.title)&&void 0!==t?t:"Confirmaci\xf3n"}),(0,a.jsx)(n.Z,{children:(0,a.jsx)(o.Z,{id:"alert-dialog-description",sx:{whiteSpace:"break-spaces"},children:e.message})}),(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(d.Z,{onClick:()=>e.onClickedNo(),autoFocus:!0,children:"No"}),(0,a.jsx)(d.Z,{onClick:()=>e.onClickedOk(),children:"Si"})]})]})})}},20773:function(e,t,i){"use strict";i.d(t,{Z:function(){return c}});var a=i(57437),l=i(69065),s=i(80824),n=i(66124),o=i(23269),r=i(98784),d=i(76548);function c(e){var t;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(l.Z,{open:!0,onClose:()=>e.onClose(),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,a.jsx)(s.Z,{id:"alert-dialog-title",children:null!==(t=e.title)&&void 0!==t?t:"Info"}),(0,a.jsx)(n.Z,{children:(0,a.jsx)(o.Z,{id:"alert-dialog-description",sx:{whiteSpace:"break-spaces"},children:e.message})}),(0,a.jsx)(r.Z,{children:(0,a.jsx)(d.Z,{onClick:()=>e.onClose(),autoFocus:!0,children:"OK"})})]})})}},64917:function(e,t,i){"use strict";i.d(t,{Z:function(){return u}});var a=i(57437),l=i(69065),s=i(80824),n=i(66124),o=i(23269),r=i(40468),d=i(98784),c=i(76548);function u(e){var t;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(l.Z,{open:!0,onClose:()=>e.onClose(),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,a.jsx)(s.Z,{id:"alert-dialog-title",children:null!==(t=e.title)&&void 0!==t?t:"Info"}),(0,a.jsxs)(n.Z,{children:[(0,a.jsx)(o.Z,{id:"alert-dialog-description",children:e.message}),(0,a.jsx)("br",{}),e.isLoading&&(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,a.jsx)(r.Z,{})})]}),(0,a.jsx)(d.Z,{children:!e.isLoading&&(0,a.jsx)(c.Z,{onClick:()=>e.onClose(),autoFocus:!0,children:"OK"})})]})})}},94093:function(e,t,i){"use strict";i.d(t,{Z:function(){return d}});var a=i(57437),l=i(49864),s=i(16463),n=i(2265),o=i(37682),r=i(3402);function d(){let e=(0,n.useMemo)(()=>new l.Z().getAccountManagerService(),[]),t=(0,n.useMemo)(()=>new r.Y,[]),i=(0,s.useRouter)(),d=(0,s.usePathname)(),c={topBarSections:[{sectionTitle:"Clubes",subSections:[{subSectionTitle:"Ver",path:"/administrador/clubes"},{subSectionTitle:"Solicitudes de Contacto",path:"/administrador/clubes/solicitudes-de-contacto"},{subSectionTitle:"Ver Formularios",path:"/administrador/clubes/formularios"}]},{sectionTitle:"Tutores",subSections:[{subSectionTitle:"Ver",path:"/administrador/tutores"},{subSectionTitle:"Ver Formularios",path:"/administrador/tutores/formularios"}]},{sectionTitle:"Atletas",subSections:[{subSectionTitle:"Filtrar",path:"/administrador/atletas/filtrar"},{subSectionTitle:"Ver",path:"/administrador/atletas"}]},{sectionTitle:"Otros",subSections:[{subSectionTitle:"Editar cuentas Administradoras",path:"/administrador/cuentas"},{subSectionTitle:"Salir",triggerAction:()=>{e.logout().then(()=>{i.replace("/")}).catch(e=>{window.alert(e.message)})}}]}]};return(0,a.jsx)(o.Z,{navItems:t.buildNavItems(c),activeItem:t.getActiveSubItem(c,d),onNavItemClick:(e,a)=>{t.processNavItemClick(c,{sectionTitle:e,subItem:a},i)}})}}},function(e){e.O(0,[6953,5282,4883,6147,2529,3298,9864,5128,2971,7023,1744],function(){return e(e.s=31212)}),_N_E=e.O()}]);